<div class="bg-white rounded-lg shadow-md mb-6" data-post-id="2">
  <div class="p-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <img
          [src]="`https://randomuser.me/api/portraits/men/${post().userId}.jpg`"
          alt="Profile"
          class="w-12 h-12 rounded-full"
        />
        <div>
          <h3 class="font-semibold">{{ post().title }}</h3>
        </div>
      </div>
      @if(user()?.id?.toString() === post().userId.toString()) {
      <div
        class="group text-gray-500 hover:bg-gray-100 p-2 rounded-full relative"
      >
        <i class="fas fa-ellipsis-h"></i>
        <div
          class="hidden group-hover:block z-10 absolute right-0 bg-white divide-y divide-gray-100 rounded-lg shadow-sm min-w-30"
        >
          <ul
            class="py-2 text-sm text-gray-700"
            aria-labelledby="dropdownDefaultButton"
          >
            <li>
              <a
                routerLink="/user/post/edit"
                [queryParams]="{ id: post().id }"
                class="text-green-600 flex justify-around items-center px-4 py-2 hover:bg-gray-100"
                ><i class="fas fa-edit"></i>Edit</a
              >
            </li>
            <li>
              <a
                (click)="onDelete(post().id)"
                class="px-4 py-2 hover:bg-gray-100 text-red-600 flex justify-around items-center"
                ><i class="fa-solid fa-trash"></i>Delete</a
              >
            </li>
          </ul>
        </div>
      </div>
      }
    </div>
    <div class="mt-4">
      <p>
        {{ post().body }}
      </p>
    </div>
    <button
      type="button"
      class="block ml-auto hover: hover:text-blue-800"
      (click)="onCommentToggle()"
    >
      <i class="far fa-comment text-lg"></i>
      Comments
    </button>
    @if(showComments){
    <app-comments />
    }
    <app-comment-input
      (submitComment)="onComment($event)"
      [userId]="user()?.id"
    ></app-comment-input>
  </div>
</div>
